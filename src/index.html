<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="assets/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>SolarNetwork API Explorer</title>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col">
          <h2>SolarNetwork API Explorer</h2>
          <p>
            This page allows you to explore the SolarNetwork web API. Fill in your SolarNetwork
            authorization token and server details on the left, then use the API templates to fill
            in an API URL to call. Replace any template parameters (for example, replace
            <code>{nodeId}</code> with your node's ID). Then click the <b>Execute</b> button to
            submit the query and display the results at the bottom. The source code for this app is
            <a href="https://github.com/SolarNetwork/web-api-explorer">available on GitHub</a>.
          </p>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <form id="credentials">
            <div class="form-group">
              <label class="col-form-label-sm">Token</label>
              <input class="form-control form-control-sm" type="text" name="token" />
            </div>
            <div class="form-group">
              <label class="col-form-label-sm">Secret</label>
              <input class="form-control form-control-sm" type="password" name="secret" />
            </div>
            <div class="form-group">
              <label class="col-form-label-sm">Host</label>
              <input
                class="form-control form-control-sm"
                type="text"
                name="host"
                value="http://localhost:8680"
              />
            </div>
            <div class="form-group">
              <label class="col-form-label-sm">Date</label>
              <input
                class="form-control form-control-sm"
                type="text"
                name="date"
                value=""
                placeholder="Leave blank for current date"
              />
            </div>
            <div class="form-group">
              <label class="col-form-label-sm">Proxy</label>
              <input
                class="form-control form-control-sm"
                type="text"
                name="proxy"
                value=""
                placeholder="e.g. https://query.solarnetwork.net"
              />
            </div>
            <footer>Version <%= VERSION %></footer>
          </form>
        </div>
        <div class="col">
          <form id="sampler-form" class="container">
            <div class="form-group row">
              <label class="col-2 col-form-label">Service</label>
              <div class="col">
                <textarea
                  name="path"
                  class="form-control"
                  rows="3"
                  placeholder="Enter service URL and query parameters here"
                ></textarea>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-2 col-form-label">SolarQuery</label>
              <div class="col">
                <select
                  id="shortcuts-solarquery"
                  class="form-control shortcuts"
                  data-app="solarquery"
                >
                  <option></option>
                  <optgroup label="Authentication">
                    <option
                      value="/solarquery/api/v1/sec/auth-tokens/refresh/v2?date={YYYY-MM-DD}"
                      data-docs="SolarQuery-API#refresh-token"
                    >
                      Refresh a V2 token
                    </option>
                  </optgroup>
                  <optgroup label="Datum List">
                    <option
                      value="/solarquery/api/v1/sec/datum/mostRecent?nodeId={nodeId}&sourceIds={sourceId}"
                      data-docs="SolarQuery-API#most-recent-datum"
                    >
                      Most recent datum
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum, default sort
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&sorts%5B0%5D.sortKey=created&sorts%5B0%5D.descending=true&offset=0&max=50"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum, sorted by date descending
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&sorts%5B0%5D.sortKey=created&sorts%5B1%5D.sortKey=source&offset=0&max=50"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum, sorted by date, source
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&sourceIds={sourceId}&aggregation=FiveMinute&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum, by 5 minute
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=TenMinute&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum, by 10 minute
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=FifteenMinute&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum, by 15 minutes
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=ThirtyMinute&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum, by 30 minutes
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=Hour&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum, by hour
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=HourOfDay"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum value, averaged by hour of day
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=SeasonalHourOfDay"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum value, averaged seasonally by hour of day
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=Day&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum, by day
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=DayOfWeek"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum value, averaged by day of week
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=SeasonalDayOfWeek"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum value, averaged seasonally by day of week
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=Month&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum, by month
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/list?nodeId={nodeId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=RunningTotal"
                      data-docs="SolarQuery-API#datum-list"
                    >
                      Datum, running total
                    </option>
                  </optgroup>
                  <optgroup label="Datum Metadata">
                    <option
                      value="/solarquery/api/v1/sec/datum/meta/{nodeId}"
                      data-docs="SolarQuery-API#list-node-datum-metadata"
                    >
                      View all datum metadata
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/meta/{nodeId}/{sourceId}"
                      data-docs="SolarQuery-API#get-node-datum-metadata"
                    >
                      View datum metadata for a specific source
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/stream/meta/node?nodeIds={nodeIds}&sourceIds={sourceIds}"
                      data-docs="SolarQuery-API#datum-stream-metadata-list"
                    >
                      View datum stream metadata
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/stream/meta/node/ids?nodeIds={nodeIds}&sourceIds={sourceIds}"
                      data-docs="SolarQuery-API#datum-stream-metadata-id-list"
                    >
                      View datum stream metadata IDs
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/meta/{nodeId}/{sourceId}"
                      data-method="POST"
                      data-docs="SolarQuery-API#add-node-datum-metadata"
                    >
                      Add metadata for a specific source
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/meta/{nodeId}/{sourceId}"
                      data-method="PUT"
                      data-docs="SolarQuery-API#store-node-datum-metadata"
                    >
                      Store metadata for a specific source
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/meta/{nodeId}/{sourceId}"
                      data-method="DELETE"
                      data-docs="SolarQuery-API#delete-node-datum-metadata"
                    >
                      Delete metadata for a specific source
                    </option>
                  </optgroup>
                  <optgroup label="Datum Range">
                    <option
                      value="/solarquery/api/v1/sec/range/interval?nodeId={nodeId}"
                      data-docs="SolarQuery-API#reportable-interval"
                    >
                      Interval
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/range/sources?nodeId={nodeId}"
                      data-docs="SolarQuery-API#reportable-sources"
                    >
                      Sources
                    </option>
                  </optgroup>
                  <optgroup label="Datum Reading">
                    <option
                      value="/solarquery/api/v1/sec/datum/reading?readingType=Difference&nodeId={nodeId}&sourceIds={sourceId}&localStartDate=2018-10-01&localEndDate=2018-11-01"
                      data-docs="SolarQuery-API#datum-reading"
                    >
                      Difference
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/reading?readingType=DifferenceWithin&nodeId={nodeId}&sourceIds={sourceId}&localStartDate=2018-10-01&localEndDate=2018-11-01"
                      data-docs="SolarQuery-API#datum-reading"
                    >
                      Difference within
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/reading?readingType=NearestDifference&tolerance=P1D&nodeId={nodeId}&sourceIds={sourceId}&localStartDate=2018-10-01&localEndDate=2018-11-01"
                      data-docs="SolarQuery-API#datum-reading"
                    >
                      Nearest difference
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/reading?readingType=CalculatedAt&tolerance=P1D&nodeId={nodeId}&sourceIds={sourceId}&localStartDate=2018-10-01"
                      data-docs="SolarQuery-API#datum-reading"
                    >
                      Calculated at
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/datum/reading?readingType=CalcualtedAtDifference&tolerance=P1D&nodeId={nodeId}&sourceIds={sourceId}&localStartDate=2018-10-01&localEndDate=2018-11-01"
                      data-docs="SolarQuery-API#datum-reading"
                    >
                      Calculated at difference
                    </option>
                  </optgroup>
                  <optgroup label="Location List">
                    <option
                      value="/solarquery/api/v1/sec/location?location.name={name}&location.country={country}&location.postalCode={postalCode}&location.timeZoneId={timeZoneId}"
                      data-docs="SolarQuery-API#location-lookup"
                    >
                      Location search
                    </option>
                  </optgroup>
                  <optgroup label="Location Datum List">
                    <option
                      value="/solarquery/api/v1/sec/location/datum/mostRecent?locationId={locationId}&sourceIds={sourceId}"
                      data-docs="SolarQuery-API#location-datum-most-recent"
                    >
                      Most recent location datum
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum, default sort
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&sorts%5B0%5D.sortKey=created&sorts%5B1%5D.sortKey=source&offset=0&max=50"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum, sorted by date, source
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=FiveMinute&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum, by 5 minute
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=TenMinute&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum, by 10 minute
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=FifteenMinute&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum, by 15 minutes
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=ThirtyMinute&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum, by 30 minutes
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=Hour&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum, by hour
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=HourOfDay"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum value, averaged by hour of day
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=SeasonalHourOfDay"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum value, averaged seasonally by hour of day
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=Day&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum, by day
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=DayOfWeek"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum value, averaged by day of week
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=SeasonalDayOfWeek"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum value, averaged seasonally by day of week
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=Month&startDate=2013-01-01T12%3A00&endDate=2013-01-02T12%3A00&offset=0&max=50"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum, by month
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/list?locationId={locationId}&sourceIds={sourceId}&withoutTotalResultsCount=true&aggregation=RunningTotal"
                      data-docs="SolarQuery-API#location-datum-list"
                    >
                      Location datum, running total
                    </option>
                  </optgroup>
                  <optgroup label="Location Datum Metadata">
                    <option
                      value="/solarquery/api/v1/sec/location/meta?query={query}&tags={tag}"
                      data-docs="SolarQuery-API#find-location-datum-metadata"
                    >
                      Find location datum metadata
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/meta/{locationId}"
                      data-docs="SolarQuery-API#list-location-datum-metadata"
                    >
                      View all location datum metadata
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/meta/{locationId}/{sourceId}"
                      data-docs="SolarQuery-API#get-location-datum-metadata"
                    >
                      View location datum metadata for a specific source
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/meta/{locationId}/{sourceId}"
                      data-method="POST"
                      data-docs="SolarQuery-API#add-location-datum-metadata"
                    >
                      Add location metadata for a specific source
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/meta/{locationId}/{sourceId}"
                      data-method="PUT"
                      data-docs="SolarQuery-API#store-location-datum-metadata"
                    >
                      Store location metadata for a specific source
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/meta/{locationId}/{sourceId}"
                      data-method="DELETE"
                      data-docs="SolarQuery-API#delete-location-datum-metadata"
                    >
                      Delete location metadata for a specific source
                    </option>
                  </optgroup>
                  <optgroup label="Location Datum Range">
                    <option
                      value="/solarquery/api/v1/sec/location/datum/interval?locationId={locationId}"
                      data-docs="SolarQuery-API#location-reportable-interval"
                    >
                      Interval
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/location/datum/sources?locationId={locationId}"
                      data-docs="SolarQuery-API#location-reportable-sources"
                    >
                      Sources
                    </option>
                  </optgroup>
                  <optgroup label="Node Metadata (read only)">
                    <option
                      value="/solarquery/api/v1/sec/nodes/meta/{nodeId}"
                      data-docs="SolarQuery-API#node-metadata-view"
                    >
                      View specific node metadata
                    </option>
                    <option
                      value="/solarquery/api/v1/sec/nodes/meta?nodeIds={nodeId}"
                      data-docs="SolarQuery-API#node-metadata-list"
                    >
                      Find node metadata
                    </option>
                  </optgroup>
                  <optgroup label="User Metadata (read only)">
                    <option
                      value="/solarquery/api/v1/sec/users/meta/{userId}"
                      data-docs="SolarQuery-API#user-metadata-view"
                    >
                      View specific user metadata
                    </option>
                  </optgroup>
                </select>
              </div>
              <div class="col-1">
                <button id="solarquery-help" type="button" class="btn btn-link doc-link" disabled>
                  <i class="fa fa-circle-info"></i>
                </button>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-2 col-form-label">SolarUser</label>
              <div class="col">
                <select
                  id="shortcuts-solaruser"
                  class="form-control shortcuts"
                  data-app="solaruser"
                >
                  <option></option>
                  <optgroup label="Authentication">
                    <option
                      value="/solaruser/api/v1/sec/whoami"
                      data-docs="SolarUser-API#authentication-check"
                    >
                      Verify authentication
                    </option>
                  </optgroup>
                  <optgroup label="Security Tokens (read/write)">
                    <option
                      value="/solaruser/api/v1/sec/user/auth-tokens"
                      data-docs="SolarUser-API#security-token-list"
                    >
                      List all tokens
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/user/auth-tokens/generate/{type:User|ReadNodeData}"
                      data-method="POST"
                      data-docs="SolarUser-API#security-token-add"
                    >
                      Generate token
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/user/auth-tokens/status?tokenId={token}status={status:Active|Disabled}"
                      data-method="POST"
                      data-docs="SolarUser-API#security-token-update-status"
                    >
                      Update status
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/user/auth-tokens?tokenId={token}"
                      data-method="DELETE"
                      data-docs="SolarUser-API#security-token-delete"
                    >
                      Delete token
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/user/auth-tokens/policy?tokenId={token}"
                      data-method="PATCH"
                      data-docs="SolarUser-API#security-token-policy-add"
                      data-upload='{
                        "EXAMPLE ONLY": "Remove this attribute and edit example as needed.",
                        "nodeIds": [1,2,3],
                        "sourceIds": ["Foo","Bar"],
                        "nodeMetadataPaths":["/pm/**"],
                        "userMetadataPaths": ["/m/**"]
                    }'
                    >
                      Merge policy
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/user/auth-tokens/policy?tokenId={token}"
                      data-method="PUT"
                      data-docs="SolarUser-API#security-token-policy-store"
                      data-upload='{
                        "EXAMPLE ONLY": "Remove this attribute and edit example as needed.",
                        "nodeIds": [1,2,3],
                        "sourceIds": ["Foo","Bar"],
                        "nodeMetadataPaths":["/pm/**"],
                        "userMetadataPaths": ["/m/**"]
                    }'
                    >
                      Replace policy
                    </option>
                  </optgroup>
                  <optgroup label="Datum auxillary records">
                    <option
                      value="/solaruser/api/v1/sec/datum/auxiliary?withoutTotalResultsCount=true&nodeIds={nodeIds}&sourceIds={sourceIds}&startDate={2019-01-01T00:00:00.000}&endDate={2019-01-02T00:00:00.000}"
                      data-docs="SolarUser-API#datum-auxiliary-list"
                    >
                      List datum auxillary records
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/datum/auxiliary?type=Reset&nodeId={nodeId}&sourceId={sourceId}&date={2019-01-01T00:00:00.000}"
                      data-docs="SolarUser-API#datum-auxiliary-view"
                    >
                      View single datum auxillary reset record
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/datum/auxiliary"
                      data-method="POST"
                      data-docs="SolarUser-API#datum-auxiliary-store"
                      data-upload='{
                        "EXAMPLE ONLY": "Remove this attribute and edit example as needed.",
                        "created": "2019-02-06 18:35:50.943Z",
                        "nodeId": 123,
                        "sourceId": "Foo",
                        "type": "Reset",
                        "notes": "Meter replaced.",
                        "final": {
                          "a": {
                            "wattHours": 123456789
                          }
                        },
                        "start": {
                          "a": {
                            "wattHours": 123
                          }
                        },
                        "meta": {
                          "m": {
                            "foo": "bar"
                          }
                        }
                    }'
                    >
                      Store datum auxillary record
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/datum/auxiliary/move"
                      data-method="POST"
                      data-docs="SolarUser-API#datum-auxiliary-move"
                      data-upload='{
                      "EXAMPLE ONLY": "Remove this attribute and edit example as needed.",
                      "from": {
                        "created": 1393657200000,
                        "nodeId": "11",
                        "sourceId": "Main",
                        "type": "Reset"
                      },
                      "to": {
                        "created": 1551310811948,
                        "nodeId": "123",
                        "sourceId": "Foo",
                        "type": "Reset",
                        "final": {
                          "a": {
                            "wattHours": 12345
                          }
                        },
                        "start": {
                          "a": {
                            "wattHours": "123"
                          }
                        }
                      }
                    }'
                    >
                      Move datum auxillary record
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/datum/auxiliary?type=Reset&nodeId={nodeId}&date={date}&sourceId={sourceId}"
                      data-method="DELETE"
                      data-docs="SolarUser-API#datum-auxiliary-delete"
                    >
                      Delete datum auxillary record
                    </option>
                  </optgroup>
                  <optgroup label="Instructions">
                    <option
                      value="/solaruser/api/v1/sec/instr/add?topic=DisableOperationalModes&nodeIds={nodeIds}&parameters%5B0%5D.name=OpMode&parameters%5B0%5D.value=hyper"
                      data-method="POST"
                      data-docs="SolarUser-API#queue-instruction"
                    >
                      Disable operational mode
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/instr/add?topic=EnableOperationalModes&nodeIds={nodeIds}&parameters%5B0%5D.name=OpMode&parameters%5B0%5D.value=hyper"
                      data-method="POST"
                      data-docs="SolarUser-API#queue-instruction"
                    >
                      Enable operational mode
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/instr/add?topic=SetControlParameter&nodeIds={nodeIds}&parameters%5B0%5D.name={controlId}&parameters%5B0%5D.value={controlValue}"
                      data-method="POST"
                      data-docs="SolarUser-API#queue-instruction"
                    >
                      Set control parameter
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/instr/add?topic=UpdatePlatform&nodeIds={nodeIds}&parameters%5B0%5D.name=Version&parameters%5B0%5D.value=00001"
                      data-method="POST"
                      data-docs="SolarUser-API#queue-instruction"
                    >
                      Update platform
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/instr/viewActive?nodeIds={nodeIds}"
                      data-docs="SolarUser-API#view-active-instructions"
                    >
                      View active instructions
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/instr/viewPending?nodeIds={nodeIds}"
                      data-docs="SolarUser-API#view-pending-instructions"
                    >
                      View pending instructions
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/instr/view?ids={instructionIds}"
                      data-docs="SolarUser-API#view-instruction"
                    >
                      View instructions
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/instr/updateState?ids={instructionIds}&state={instructionState:(Received|Executing|Declined|Completed)}"
                      data-method="POST"
                      data-docs="SolarUser-API#update-instruction-state"
                    >
                      Update instructions state
                    </option>
                  </optgroup>
                  <optgroup label="Node Metadata (read/write)">
                    <option
                      value="/solaruser/api/v1/sec/nodes/meta/{nodeId}"
                      data-docs="SolarUser-API#node-metadata-view"
                    >
                      View specific node metadata
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/nodes/meta?nodeIds={nodeId}"
                      data-docs="SolarUser-API#node-metadata-list"
                    >
                      Find node metadata
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/nodes/meta/{nodeId}"
                      data-method="POST"
                      data-docs="SolarUser-API#node-metadata-add"
                    >
                      Add metadata for a specific node
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/nodes/meta/{nodeId}"
                      data-method="PUT"
                      data-docs="SolarUser-API#node-metadata-store"
                    >
                      Store metadata for a specific node
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/nodes/meta/{nodeId}"
                      data-method="DELETE"
                      data-docs="SolarUser-API#node-metadata-delete"
                    >
                      Delete metadata for a specific node
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/datum/stream/meta/node/{streamId}"
                      data-method="PATCH"
                      data-docs="SolarUser-API#datum-stream-metadata-update"
                    >
                      Update datum stream metadata
                    </option>
                  </optgroup>
                  <optgroup label="User Metadata (read/write)">
                    <option
                      value="/solaruser/api/v1/sec/users/meta"
                      data-docs="SolarUser-API#user-metadata-view"
                    >
                      View acitve user metadata
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/users/meta"
                      data-method="POST"
                      data-docs="SolarUser-API#user-metadata-add"
                    >
                      Add metadata for acitve user
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/users/meta"
                      data-method="PUT"
                      data-docs="SolarUser-API#user-metadata-store"
                    >
                      Store metadata for acitve user
                    </option>
                    <option
                      value="/solaruser/api/v1/sec/users/meta"
                      data-method="DELETE"
                      data-docs="SolarUser-API#user-metadata-delete"
                    >
                      Delete metadata for acitve user
                    </option>
                  </optgroup>
                </select>
              </div>
              <div class="col-1">
                <button id="solaruser-help" type="button" class="btn btn-link doc-link" disabled>
                  <i class="fa fa-circle-info"></i>
                </button>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-2 col-form-label">History</label>
              <div class="col">
                <select id="history" class="form-control">
                  <option></option>
                </select>
              </div>
              <div class="col-1">
                <!-- Nothing here. -->
              </div>
            </div>
            <div class="form-group row">
              <label class="col-2 col-form-label">Auth</label>
              <div class="col">
                <div class="form-control-plaintext">
                  <div class="form-check form-check-inline">
                    <input
                      type="radio"
                      class="form-check-input"
                      name="useAuth"
                      value="2"
                      checked="checked"
                    />
                    <label class="radio form-check-label">
                      Token
                      <a
                        href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-authentication-scheme-V2"
                        >V2</a
                      >
                    </label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input type="radio" class="form-check-input" name="useAuth" value="0" />
                    <label class="radio form-check-label"> None </label>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-2 col-form-label">Method</label>
              <div class="col">
                <div class="form-control-plaintext">
                  <div class="form-check form-check-inline">
                    <input
                      type="radio"
                      class="form-check-input"
                      name="method"
                      value="GET"
                      checked="checked"
                    />
                    <label class="radio form-check-label">GET</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input type="radio" class="form-check-input" name="method" value="POST" />
                    <label class="radio form-check-label">POST</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input type="radio" class="form-check-input" name="method" value="PUT" />
                    <label class="radio form-check-label">PUT</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input type="radio" class="form-check-input" name="method" value="PATCH" />
                    <label class="radio form-check-label">PATCH</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input type="radio" class="form-check-input" name="method" value="DELETE" />
                    <label class="radio form-check-label">DELETE</label>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group row" style="display: none" id="upload">
              <label class="col-2 col-form-label">Upload</label>
              <div class="col">
                <textarea
                  name="upload"
                  class="form-control"
                  rows="3"
                  placeholder="Place upload JSON here if needed"
                ></textarea>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-2 col-form-label">Output</label>
              <div class="col">
                <div class="form-control-plaintext">
                  <div class="form-check form-check-inline">
                    <input
                      type="radio"
                      class="form-check-input"
                      name="output"
                      value="json"
                      checked="checked"
                    />
                    <label class="radio form-check-label">JSON</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input type="radio" class="form-check-input" name="output" value="csv" />
                    <label class="radio form-check-label">CSV</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input type="radio" class="form-check-input" name="output" value="xml" />
                    <label class="radio form-check-label">XML</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input type="checkbox" class="form-check-input" name="highlight" checked />
                    <label class="checkbox form-check-label">Syntax highlighting</label>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group row">
              <div class="col offset-2">
                <button type="submit" class="btn btn-primary">Execute</button>
              </div>
            </div>
          </form>
        </div>
      </div>

      <div class="row" id="auth-result">
        <div class="col">
          <h5 id="auth-result-toggle" class="clickable activator">
            <i class="fa fa-caret-right activateable inactive"></i
            ><i class="fa fa-caret-down activateable active"></i>
            Auth Support
          </h5>
          <div id="auth-result-container" class="activateable active">
            <form id="auth-options" class="form-control-plaintext">
              <div
                class="form-check form-check-inline"
                title="Check to include a Digest header for PATCH/POST/PUT requests"
              >
                <input
                  type="checkbox"
                  class="form-check-input"
                  name="withDigest"
                  id="auth-with-digest"
                  checked
                />
                <label class="form-check-label" for="auth-with-digest">Digest header</label>
              </div>
            </form>
            <p>
              This shows the the
              <a
                target="_blank"
                href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-authentication-scheme-V2#signature-value"
                >computed</a
              >
              HTTP <code>Authorization</code> header:
            </p>
            <pre id="auth-header" class="data"></pre>
            <p>
              The following sections detail the steps taken to generate the
              <code>Authorization</code> header.
            </p>
            <h5>Canonical request message</h5>
            <p>
              This shows the
              <a
                target="_blank"
                href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-authentication-scheme-V2#canonical-request-message"
                >canonical request message</a
              >
              that is hashed and included in the authorization message:
            </p>
            <pre id="req-message" class="data"></pre>
            <h5>Signing message</h5>
            <p>
              This shows the
              <a
                target="_blank"
                href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-authentication-scheme-V2#signing-message"
                >signing message</a
              >
              that is hashed to form the authorization signature value:
            </p>
            <pre id="auth-message" class="data"></pre>
            <h5>Signing key</h5>
            <p>
              This shows the hex-encoded
              <a
                target="_blank"
                href="https://github.com/SolarNetwork/solarnetwork/wiki/SolarNet-API-authentication-scheme-V2#signing-key"
                >signing key</a
              >
              used to sign the message, derived from the token secret using a signing date value of
              <code id="auth-sign-date">YYYYMMDD</code>:
            </p>
            <pre id="sign-key" class="data"></pre>
          </div>
        </div>
      </div>
      <div class="row" id="curl-result">
        <div class="col">
          <h5 id="curl-result-toggle" class="clickable activator">
            <i class="fa fa-caret-right activateable inactive"></i
            ><i class="fa fa-caret-down activateable active"></i>
            Curl command
          </h5>
          <div id="auth-result-container" class="activateable active">
            <form id="curl-only">
              <div class="form-group form-check">
                <input
                  type="checkbox"
                  class="form-check-input"
                  name="curlOnly"
                  id="curl-only-checkbox"
                />
                <label class="form-check-label" for="curl-only-checkbox">No request</label>
                — check this to only generate the <code>curl</code> command, without actually making
                the request in the browser.
              </div>
            </form>
            <p>This shows a <code>curl</code> command to make the same HTTP request:</p>
            <div class="row">
              <div class="col-sm-11">
                <pre id="curl-command" class="data"></pre>
              </div>
              <div class="col-sm-1 text-secondary" id="curl-copy-btn">
                <i class="fa fa-copy clickable" title="Copy curl command to clipboard"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <h5>Result</h5>
          <pre id="result" class="prettyprint"></pre>
        </div>
      </div>
    </div>
  </body>
</html>
